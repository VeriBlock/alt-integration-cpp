<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>veriblock-pop-cpp: altintegration::BlockTree&lt; Block, ChainParams &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="main.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">veriblock-pop-cpp
   </div>
   <div id="projectbrief">C++11 Libraries for leveraging VeriBlock Proof-Of-Proof blockchain technology.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structaltintegration_1_1BlockTree.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="structaltintegration_1_1BlockTree-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">altintegration::BlockTree&lt; Block, ChainParams &gt; Struct Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="structaltintegration_1_1BlockTree.html" title="BlockTree is a tree of blocks with single &quot;bootstrap&quot; block as root.">BlockTree</a> is a tree of blocks with single "bootstrap" block as root.  
 <a href="structaltintegration_1_1BlockTree.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Block, typename ChainParams&gt;<br />
struct altintegration::BlockTree&lt; Block, ChainParams &gt;</div><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Block</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00030">30</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for altintegration::BlockTree&lt; Block, ChainParams &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structaltintegration_1_1BlockTree__inherit__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for altintegration::BlockTree&lt; Block, ChainParams &gt;:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="structaltintegration_1_1BlockTree__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a562bf09293e69cb1df2da7a6b43227dd"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a562bf09293e69cb1df2da7a6b43227dd">base</a> = <a class="el" href="structaltintegration_1_1BaseBlockTree.html">BaseBlockTree</a>&lt; Block &gt;</td></tr>
<tr class="separator:a562bf09293e69cb1df2da7a6b43227dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d00023be34392d74d03d9ab5f67b14"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a50d00023be34392d74d03d9ab5f67b14">block_t</a> = Block</td></tr>
<tr class="separator:a50d00023be34392d74d03d9ab5f67b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765d4df2a1e98b65cc0e4137119dda7d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a765d4df2a1e98b65cc0e4137119dda7d">params_t</a> = ChainParams</td></tr>
<tr class="separator:a765d4df2a1e98b65cc0e4137119dda7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61152955290884e219db8ee39b2ca2a8"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a61152955290884e219db8ee39b2ca2a8">index_t</a> = typename <a class="el" href="structaltintegration_1_1BlockIndex.html">base::index_t</a></td></tr>
<tr class="separator:a61152955290884e219db8ee39b2ca2a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4761021ddc1f8dddad0392210105b2b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#af4761021ddc1f8dddad0392210105b2b">stored_index_t</a> = typename <a class="el" href="structaltintegration_1_1StoredBlockIndex.html">base::stored_index_t</a></td></tr>
<tr class="separator:af4761021ddc1f8dddad0392210105b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79b584beb16373c2f19a789425bd1db"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#ae79b584beb16373c2f19a789425bd1db">hash_t</a> = typename Block::hash_t</td></tr>
<tr class="separator:ae79b584beb16373c2f19a789425bd1db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862b32c3e6496c8b5d312fc6d2668709"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a862b32c3e6496c8b5d312fc6d2668709">prev_block_hash_t</a> = typename Block::prev_hash_t</td></tr>
<tr class="separator:a862b32c3e6496c8b5d312fc6d2668709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c2a4f734c7961a3f288f1f89b3e2076"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a9c2a4f734c7961a3f288f1f89b3e2076">height_t</a> = typename Block::height_t</td></tr>
<tr class="separator:a9c2a4f734c7961a3f288f1f89b3e2076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_structaltintegration_1_1BaseBlockTree"><td colspan="2" onclick="javascript:toggleInherit('pub_types_structaltintegration_1_1BaseBlockTree')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="structaltintegration_1_1BaseBlockTree.html">altintegration::BaseBlockTree&lt; Block &gt;</a></td></tr>
<tr class="memitem:a88c964a619c7ecf2bdf7158dbd376a82 inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a88c964a619c7ecf2bdf7158dbd376a82">block_t</a> = Block</td></tr>
<tr class="separator:a88c964a619c7ecf2bdf7158dbd376a82 inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a5d8e127534f0b93d0758aee548cad inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#af8a5d8e127534f0b93d0758aee548cad">block_height_t</a> = typename block_t::height_t</td></tr>
<tr class="separator:af8a5d8e127534f0b93d0758aee548cad inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8878e8850f58e0b014354def418c606f inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a8878e8850f58e0b014354def418c606f">hash_t</a> = typename Block::hash_t</td></tr>
<tr class="separator:a8878e8850f58e0b014354def418c606f inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ba4d38aab03b3f66f328f77c56851e inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a08ba4d38aab03b3f66f328f77c56851e">prev_block_hash_t</a> = typename Block::prev_hash_t</td></tr>
<tr class="separator:a08ba4d38aab03b3f66f328f77c56851e inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c9e0f2cf70379d32ea8833cbb3a933 inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a96c9e0f2cf70379d32ea8833cbb3a933">index_t</a> = <a class="el" href="structaltintegration_1_1BlockIndex.html">BlockIndex</a>&lt; Block &gt;</td></tr>
<tr class="separator:a96c9e0f2cf70379d32ea8833cbb3a933 inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c4cdc057693bd4f126409cec1b325b inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a93c4cdc057693bd4f126409cec1b325b">stored_index_t</a> = <a class="el" href="structaltintegration_1_1StoredBlockIndex.html">StoredBlockIndex</a>&lt; Block &gt;</td></tr>
<tr class="separator:a93c4cdc057693bd4f126409cec1b325b inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1543358a5aea3e3681cc228188ca6cde inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a1543358a5aea3e3681cc228188ca6cde">on_invalidate_t</a> = void(const <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;)</td></tr>
<tr class="separator:a1543358a5aea3e3681cc228188ca6cde inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744bf76b3fe3c296375e04cdf6157c7e inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a744bf76b3fe3c296375e04cdf6157c7e">block_index_t</a> = std::unordered_map&lt; prev_block_hash_t, std::unique_ptr&lt; <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &gt; &gt;</td></tr>
<tr class="separator:a744bf76b3fe3c296375e04cdf6157c7e inherit pub_types_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae3c77c5265d8129fe2979928d8b7789f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#ae3c77c5265d8129fe2979928d8b7789f">BlockTree</a> (const ChainParams &amp;param, const <a class="el" href="structaltintegration_1_1BlockReader.html">BlockReader</a> &amp;blockProvider)</td></tr>
<tr class="separator:ae3c77c5265d8129fe2979928d8b7789f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb6ae17418e40a11c548e5922683d4c4"><td class="memItemLeft" align="right" valign="top">const ChainParams &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#afb6ae17418e40a11c548e5922683d4c4">getParams</a> () const</td></tr>
<tr class="separator:afb6ae17418e40a11c548e5922683d4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5880122c5d7751540f76309970da07f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#ad5880122c5d7751540f76309970da07f">bootstrapWithGenesis</a> (const block_t &amp;block)</td></tr>
<tr class="memdesc:ad5880122c5d7751540f76309970da07f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bootstrap blockchain with a single genesis block.  <a href="structaltintegration_1_1BlockTree.html#ad5880122c5d7751540f76309970da07f">More...</a><br /></td></tr>
<tr class="separator:ad5880122c5d7751540f76309970da07f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45d4fbb61dfe826bc1592f8568e2ac6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#ae45d4fbb61dfe826bc1592f8568e2ac6">bootstrapWithChain</a> (height_t startHeight, const std::vector&lt; block_t &gt; &amp;chain)</td></tr>
<tr class="memdesc:ae45d4fbb61dfe826bc1592f8568e2ac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bootstrap network with a chain that starts at 'startHeight'.  <a href="structaltintegration_1_1BlockTree.html#ae45d4fbb61dfe826bc1592f8568e2ac6">More...</a><br /></td></tr>
<tr class="separator:ae45d4fbb61dfe826bc1592f8568e2ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a110c51aef126b8fec98aa6950d56ff38"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a110c51aef126b8fec98aa6950d56ff38">acceptBlockHeader</a> (const block_t &amp;block, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state)</td></tr>
<tr class="separator:a110c51aef126b8fec98aa6950d56ff38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c94d18cec972bc1a06fdcc6feafd97b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a7c94d18cec972bc1a06fdcc6feafd97b">acceptBlockHeader</a> (const std::shared_ptr&lt; block_t &gt; &amp;block, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state)</td></tr>
<tr class="separator:a7c94d18cec972bc1a06fdcc6feafd97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb46e4499aa53ccde9f870f160c6ee91"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#abb46e4499aa53ccde9f870f160c6ee91">toPrettyString</a> (size_t level=0) const</td></tr>
<tr class="separator:abb46e4499aa53ccde9f870f160c6ee91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24779f15d0d6b38e5d99d68e351bcbad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a24779f15d0d6b38e5d99d68e351bcbad">loadBlockForward</a> (const <a class="el" href="structaltintegration_1_1StoredBlockIndex.html">stored_index_t</a> &amp;index, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state) override</td></tr>
<tr class="separator:a24779f15d0d6b38e5d99d68e351bcbad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7de7a66d6867ddbf077f1c20d16d8fc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#ae7de7a66d6867ddbf077f1c20d16d8fc">isBlockOld</a> (height_t height) const</td></tr>
<tr class="memdesc:ae7de7a66d6867ddbf077f1c20d16d8fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">block is considered old if it is behind current tip further than 'old blocks window' blocks  <a href="structaltintegration_1_1BlockTree.html#ae7de7a66d6867ddbf077f1c20d16d8fc">More...</a><br /></td></tr>
<tr class="separator:ae7de7a66d6867ddbf077f1c20d16d8fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60dda418fe822190cbd54741a3c10f7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#ae60dda418fe822190cbd54741a3c10f7">isBlockOld</a> (const hash_t &amp;hash) const</td></tr>
<tr class="memdesc:ae60dda418fe822190cbd54741a3c10f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.  <a href="structaltintegration_1_1BlockTree.html#ae60dda418fe822190cbd54741a3c10f7">More...</a><br /></td></tr>
<tr class="separator:ae60dda418fe822190cbd54741a3c10f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79b543d038fd389301419d00ae032d2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a79b543d038fd389301419d00ae032d2d">finalizeBlocks</a> ()</td></tr>
<tr class="separator:a79b543d038fd389301419d00ae032d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structaltintegration_1_1BaseBlockTree"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structaltintegration_1_1BaseBlockTree')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structaltintegration_1_1BaseBlockTree.html">altintegration::BaseBlockTree&lt; Block &gt;</a></td></tr>
<tr class="memitem:a06f9c0ae9e0103460c3b83c5e8514aac inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">const std::unordered_set&lt; <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a06f9c0ae9e0103460c3b83c5e8514aac">getTips</a> () const</td></tr>
<tr class="separator:a06f9c0ae9e0103460c3b83c5e8514aac inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2590a6d278a5428ae6894c99c6edf5 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a0b2590a6d278a5428ae6894c99c6edf5">getBlocks</a> () const</td></tr>
<tr class="separator:a0b2590a6d278a5428ae6894c99c6edf5 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf36c59560238cd9da024de9a8ff25d5 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#aaf36c59560238cd9da024de9a8ff25d5">getAllBlocks</a> () const</td></tr>
<tr class="separator:aaf36c59560238cd9da024de9a8ff25d5 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534891423eb1b3c3880be3cdd12d3eec inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structaltintegration_1_1BlockReader.html">BlockReader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a534891423eb1b3c3880be3cdd12d3eec">getBlockProvider</a> () const</td></tr>
<tr class="separator:a534891423eb1b3c3880be3cdd12d3eec inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbb771765dd11e312f21931b1f8789fe inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#afbb771765dd11e312f21931b1f8789fe">BaseBlockTree</a> (const <a class="el" href="structaltintegration_1_1BlockReader.html">BlockReader</a> &amp;blockProvider)</td></tr>
<tr class="separator:afbb771765dd11e312f21931b1f8789fe inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d3ee700667bdd574f9f4372b56d468 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top"><a id="a05d3ee700667bdd574f9f4372b56d468" name="a05d3ee700667bdd574f9f4372b56d468"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BaseBlockTree</b> (const <a class="el" href="structaltintegration_1_1BaseBlockTree.html">BaseBlockTree</a> &amp;)=delete</td></tr>
<tr class="separator:a05d3ee700667bdd574f9f4372b56d468 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc8d8f2bad0acb4270b01558ca2df13c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top"><a id="afc8d8f2bad0acb4270b01558ca2df13c" name="afc8d8f2bad0acb4270b01558ca2df13c"></a>
<a class="el" href="structaltintegration_1_1BaseBlockTree.html">BaseBlockTree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="structaltintegration_1_1BaseBlockTree.html">BaseBlockTree</a> &amp;)=delete</td></tr>
<tr class="separator:afc8d8f2bad0acb4270b01558ca2df13c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa629cec7d80b6c4c825722a7a2d367e6 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top"><a id="aa629cec7d80b6c4c825722a7a2d367e6" name="aa629cec7d80b6c4c825722a7a2d367e6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BaseBlockTree</b> (<a class="el" href="structaltintegration_1_1BaseBlockTree.html">BaseBlockTree</a> &amp;&amp;)=default</td></tr>
<tr class="separator:aa629cec7d80b6c4c825722a7a2d367e6 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc3e39a99f3883fa2f016a7fb67aaa6 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top"><a id="a1fc3e39a99f3883fa2f016a7fb67aaa6" name="a1fc3e39a99f3883fa2f016a7fb67aaa6"></a>
<a class="el" href="structaltintegration_1_1BaseBlockTree.html">BaseBlockTree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="structaltintegration_1_1BaseBlockTree.html">BaseBlockTree</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a1fc3e39a99f3883fa2f016a7fb67aaa6 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed7a414a9bc1cf7abd70af5a6e5db8a inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structaltintegration_1_1Chain.html">Chain</a>&lt; <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a2ed7a414a9bc1cf7abd70af5a6e5db8a">getBestChain</a> () const</td></tr>
<tr class="memdesc:a2ed7a414a9bc1cf7abd70af5a6e5db8a inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for currently Active <a class="el" href="structaltintegration_1_1Chain.html" title="Fully in-memory chain representation.">Chain</a>.  <a href="structaltintegration_1_1BaseBlockTree.html#a2ed7a414a9bc1cf7abd70af5a6e5db8a">More...</a><br /></td></tr>
<tr class="separator:a2ed7a414a9bc1cf7abd70af5a6e5db8a inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4371d8f2be7e0502a2ea8956f89720c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:af4371d8f2be7e0502a2ea8956f89720c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplItemLeft" align="right" valign="top">prev_block_hash_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#af4371d8f2be7e0502a2ea8956f89720c">makePrevHash</a> (const T &amp;h) const</td></tr>
<tr class="separator:af4371d8f2be7e0502a2ea8956f89720c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae516864aa99c0d64b1ed301b7e261687 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplParams" colspan="2">template&lt;typename T , typename  = typename std::enable_if&lt;                std::is_same&lt;T, hash_t&gt;::value ||                std::is_same&lt;T, prev_block_hash_t&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:ae516864aa99c0d64b1ed301b7e261687 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#ae516864aa99c0d64b1ed301b7e261687">getBlockIndex</a> (const T &amp;hash)</td></tr>
<tr class="memdesc:ae516864aa99c0d64b1ed301b7e261687 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get <a class="el" href="structaltintegration_1_1BlockIndex.html" title="A node in a block tree.">BlockIndex</a> by block hash.  <a href="structaltintegration_1_1BaseBlockTree.html#ae516864aa99c0d64b1ed301b7e261687">More...</a><br /></td></tr>
<tr class="separator:ae516864aa99c0d64b1ed301b7e261687 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b94b099f5fadbc138e0ceb72043c6f inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplParams" colspan="2">template&lt;typename T , typename  = typename std::enable_if&lt;                std::is_same&lt;T, hash_t&gt;::value ||                std::is_same&lt;T, prev_block_hash_t&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:ad9b94b099f5fadbc138e0ceb72043c6f inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#ad9b94b099f5fadbc138e0ceb72043c6f">getBlockIndex</a> (const T &amp;hash) const</td></tr>
<tr class="memdesc:ad9b94b099f5fadbc138e0ceb72043c6f inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.  <a href="structaltintegration_1_1BaseBlockTree.html#ad9b94b099f5fadbc138e0ceb72043c6f">More...</a><br /></td></tr>
<tr class="separator:ad9b94b099f5fadbc138e0ceb72043c6f inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10612862539d7faa6495827a4315005b inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplParams" colspan="2">template&lt;typename T , typename  = typename std::enable_if&lt;                std::is_same&lt;T, hash_t&gt;::value ||                std::is_same&lt;T, prev_block_hash_t&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:a10612862539d7faa6495827a4315005b inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a10612862539d7faa6495827a4315005b">findBlockIndex</a> (const T &amp;hash)</td></tr>
<tr class="memdesc:a10612862539d7faa6495827a4315005b inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get <a class="el" href="structaltintegration_1_1BlockIndex.html" title="A node in a block tree.">BlockIndex</a> by block hash.  <a href="structaltintegration_1_1BaseBlockTree.html#a10612862539d7faa6495827a4315005b">More...</a><br /></td></tr>
<tr class="separator:a10612862539d7faa6495827a4315005b inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc757d7c7665303acf67c26f9fa0694f inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplParams" colspan="2">template&lt;typename T , typename  = typename std::enable_if&lt;                std::is_same&lt;T, hash_t&gt;::value ||                std::is_same&lt;T, prev_block_hash_t&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:adc757d7c7665303acf67c26f9fa0694f inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#adc757d7c7665303acf67c26f9fa0694f">findBlockIndex</a> (const T &amp;hash) const</td></tr>
<tr class="memdesc:adc757d7c7665303acf67c26f9fa0694f inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.  <a href="structaltintegration_1_1BaseBlockTree.html#adc757d7c7665303acf67c26f9fa0694f">More...</a><br /></td></tr>
<tr class="separator:adc757d7c7665303acf67c26f9fa0694f inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f4ab76e6419449175a99f7b66d7ad4 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a78f4ab76e6419449175a99f7b66d7ad4">loadTip</a> (const hash_t &amp;hash, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state)</td></tr>
<tr class="separator:a78f4ab76e6419449175a99f7b66d7ad4 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c1ac8d9b8139e000c439898b2c587e inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a48c1ac8d9b8139e000c439898b2c587e">loadBlockForward</a> (const <a class="el" href="structaltintegration_1_1StoredBlockIndex.html">stored_index_t</a> &amp;index, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state)</td></tr>
<tr class="memdesc:a48c1ac8d9b8139e000c439898b2c587e inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">Efficiently connects <a class="el" href="structaltintegration_1_1BlockIndex.html" title="A node in a block tree.">BlockIndex</a> to this tree as a leaf, when it is loaded from disk.  <a href="structaltintegration_1_1BaseBlockTree.html#a48c1ac8d9b8139e000c439898b2c587e">More...</a><br /></td></tr>
<tr class="separator:a48c1ac8d9b8139e000c439898b2c587e inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c8e5e91a8bf0c67a41db06ff61f48c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#ab9c8e5e91a8bf0c67a41db06ff61f48c">loadBlockBackward</a> (const <a class="el" href="structaltintegration_1_1StoredBlockIndex.html">stored_index_t</a> &amp;index, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state)</td></tr>
<tr class="memdesc:ab9c8e5e91a8bf0c67a41db06ff61f48c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">Efficiently connects <a class="el" href="structaltintegration_1_1BlockIndex.html" title="A node in a block tree.">BlockIndex</a> to this tree as a new root, when it is loaded from disk.  <a href="structaltintegration_1_1BaseBlockTree.html#ab9c8e5e91a8bf0c67a41db06ff61f48c">More...</a><br /></td></tr>
<tr class="separator:ab9c8e5e91a8bf0c67a41db06ff61f48c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2548fa5b502b0b35fd7db22083d30b24 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a2548fa5b502b0b35fd7db22083d30b24">removeSubtree</a> (<a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;toRemove)</td></tr>
<tr class="memdesc:a2548fa5b502b0b35fd7db22083d30b24 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes block and all its successors.  <a href="structaltintegration_1_1BaseBlockTree.html#a2548fa5b502b0b35fd7db22083d30b24">More...</a><br /></td></tr>
<tr class="separator:a2548fa5b502b0b35fd7db22083d30b24 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066ff76575eaea27374b1dac26860610 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a066ff76575eaea27374b1dac26860610">removeSubtree</a> (const hash_t &amp;toRemove)</td></tr>
<tr class="memdesc:a066ff76575eaea27374b1dac26860610 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.  <a href="structaltintegration_1_1BaseBlockTree.html#a066ff76575eaea27374b1dac26860610">More...</a><br /></td></tr>
<tr class="separator:a066ff76575eaea27374b1dac26860610 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b1f7eea3027fe06f480f9e8bf675c0 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a56b1f7eea3027fe06f480f9e8bf675c0">removeLeaf</a> (<a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;toRemove)</td></tr>
<tr class="memdesc:a56b1f7eea3027fe06f480f9e8bf675c0 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.  <a href="structaltintegration_1_1BaseBlockTree.html#a56b1f7eea3027fe06f480f9e8bf675c0">More...</a><br /></td></tr>
<tr class="separator:a56b1f7eea3027fe06f480f9e8bf675c0 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfeccd19e4f853e9d959b29e9479ffe9 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#acfeccd19e4f853e9d959b29e9479ffe9">invalidateSubtree</a> (<a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;toBeInvalidated, enum <a class="el" href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736a">BlockValidityStatus</a> reason, bool shouldDetermineBestChain=true)</td></tr>
<tr class="memdesc:acfeccd19e4f853e9d959b29e9479ffe9 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark given block as invalid.  <a href="structaltintegration_1_1BaseBlockTree.html#acfeccd19e4f853e9d959b29e9479ffe9">More...</a><br /></td></tr>
<tr class="separator:acfeccd19e4f853e9d959b29e9479ffe9 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92bea7a560edcd4531e90e81a75821b1 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a92bea7a560edcd4531e90e81a75821b1">invalidateSubtree</a> (const hash_t &amp;toBeInvalidated, enum <a class="el" href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736a">BlockValidityStatus</a> reason, bool shouldDetermineBestChain=true)</td></tr>
<tr class="memdesc:a92bea7a560edcd4531e90e81a75821b1 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.  <a href="structaltintegration_1_1BaseBlockTree.html#a92bea7a560edcd4531e90e81a75821b1">More...</a><br /></td></tr>
<tr class="separator:a92bea7a560edcd4531e90e81a75821b1 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b2be46dbadcc1b941385de7b9383c6 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a03b2be46dbadcc1b941385de7b9383c6">revalidateSubtree</a> (const hash_t &amp;hash, enum <a class="el" href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736a">BlockValidityStatus</a> reason, bool shouldDetermineBestChain=true)</td></tr>
<tr class="separator:a03b2be46dbadcc1b941385de7b9383c6 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c423f40e6071fa56d8aefcc704f6c8 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a12c423f40e6071fa56d8aefcc704f6c8">revalidateSubtree</a> (<a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;toBeValidated, enum <a class="el" href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736a">BlockValidityStatus</a> reason, bool shouldDetermineBestChain=true)</td></tr>
<tr class="separator:a12c423f40e6071fa56d8aefcc704f6c8 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6875b36b78c402d46e7c7d705312359 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#ad6875b36b78c402d46e7c7d705312359">isBootstrapped</a> () const</td></tr>
<tr class="memdesc:ad6875b36b78c402d46e7c7d705312359 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the blockchain is bootstrapped.  <a href="structaltintegration_1_1BaseBlockTree.html#ad6875b36b78c402d46e7c7d705312359">More...</a><br /></td></tr>
<tr class="separator:ad6875b36b78c402d46e7c7d705312359 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73284affd575c2eafc54f7991078683a inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a73284affd575c2eafc54f7991078683a">setState</a> (const hash_t &amp;block, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state)</td></tr>
<tr class="separator:a73284affd575c2eafc54f7991078683a inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a9090e335380b4d3aad38a515d2905a inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a2a9090e335380b4d3aad38a515d2905a">setState</a> (<a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;index, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;)</td></tr>
<tr class="separator:a2a9090e335380b4d3aad38a515d2905a inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c244540d5a6f7e6bbe2f2b4a1e0525c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a1c244540d5a6f7e6bbe2f2b4a1e0525c">overrideTip</a> (<a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;to)</td></tr>
<tr class="separator:a1c244540d5a6f7e6bbe2f2b4a1e0525c inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab151ed227704d42767ccd6ae383148bf inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#ab151ed227704d42767ccd6ae383148bf">getRoot</a> () const</td></tr>
<tr class="separator:ab151ed227704d42767ccd6ae383148bf inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead816db9ef6aad994fa4497d3ae40e1 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structaltintegration_1_1FinalizedPayloadsIndex.html">FinalizedPayloadsIndex</a>&lt; <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#aead816db9ef6aad994fa4497d3ae40e1">getFinalizedPayloadsIndex</a> () const</td></tr>
<tr class="separator:aead816db9ef6aad994fa4497d3ae40e1 inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60141d5f2848e9f91885fd9f412a20ce inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">DeferForkResolutionGuard&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a60141d5f2848e9f91885fd9f412a20ce">deferForkResolutionGuard</a> ()</td></tr>
<tr class="separator:a60141d5f2848e9f91885fd9f412a20ce inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab758c9cc0595be4b6ea8093cdad35ccb inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structaltintegration_1_1BaseBlockTree.html">BaseBlockTree</a>&lt; <a class="el" href="structaltintegration_1_1VbkBlock.html">VbkBlock</a> &gt;::prev_block_hash_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#ab758c9cc0595be4b6ea8093cdad35ccb">makePrevHash</a> (const hash_t &amp;h) const</td></tr>
<tr class="memdesc:ab758c9cc0595be4b6ea8093cdad35ccb inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">HACK: getBlockIndex accepts either hash_t or prev_block_hash_t then, depending on what it received, it should do trim LE on full hash to receive short hash, which is stored inside a map.  <a href="structaltintegration_1_1BaseBlockTree.html#ab758c9cc0595be4b6ea8093cdad35ccb">More...</a><br /></td></tr>
<tr class="separator:ab758c9cc0595be4b6ea8093cdad35ccb inherit pub_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a000f6815f1653cd050cc71402e02e27e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a000f6815f1653cd050cc71402e02e27e">acceptBlockHeaderImpl</a> (const std::shared_ptr&lt; block_t &gt; &amp;block, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state, bool shouldContextuallyCheck)</td></tr>
<tr class="separator:a000f6815f1653cd050cc71402e02e27e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fec09bffa03aa888057ee94d022d112"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a9fec09bffa03aa888057ee94d022d112">bootstrap</a> (height_t height, const block_t &amp;block, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state)</td></tr>
<tr class="separator:a9fec09bffa03aa888057ee94d022d112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60a777a21172a293decb006f28e2316"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#aa60a777a21172a293decb006f28e2316">bootstrap</a> (height_t height, std::shared_ptr&lt; block_t &gt; block, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state)</td></tr>
<tr class="separator:aa60a777a21172a293decb006f28e2316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae7d32d0860c91dd9ec31ec11632ca17"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#aae7d32d0860c91dd9ec31ec11632ca17">validateAndAddBlock</a> (const std::shared_ptr&lt; block_t &gt; &amp;block, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state, bool shouldContextuallyCheck, <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> **ret)</td></tr>
<tr class="separator:aae7d32d0860c91dd9ec31ec11632ca17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b8358271f6f4f65d22408725fb21905"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#a3b8358271f6f4f65d22408725fb21905">determineBestChain</a> (<a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;candidate, <a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;state) override</td></tr>
<tr class="separator:a3b8358271f6f4f65d22408725fb21905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6327433a1fe0669c295711fd1d9b3cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#aa6327433a1fe0669c295711fd1d9b3cb">onBlockInserted</a> (<a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> *newIndex) final</td></tr>
<tr class="memdesc:aa6327433a1fe0669c295711fd1d9b3cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">whenever new block is inserted, <a class="el" href="structaltintegration_1_1BlockTree.html" title="BlockTree is a tree of blocks with single &quot;bootstrap&quot; block as root.">BlockTree</a> has to update its ChainWork  <a href="structaltintegration_1_1BlockTree.html#aa6327433a1fe0669c295711fd1d9b3cb">More...</a><br /></td></tr>
<tr class="separator:aa6327433a1fe0669c295711fd1d9b3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_structaltintegration_1_1BaseBlockTree"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_structaltintegration_1_1BaseBlockTree')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="structaltintegration_1_1BaseBlockTree.html">altintegration::BaseBlockTree&lt; Block &gt;</a></td></tr>
<tr class="memitem:a2a26a4462a19387064dd2534e0cf8179 inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a2a26a4462a19387064dd2534e0cf8179">deallocateBlock</a> (<a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;block)</td></tr>
<tr class="memdesc:a2a26a4462a19387064dd2534e0cf8179 inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">Permanently erases block from a block tree.  <a href="structaltintegration_1_1BaseBlockTree.html#a2a26a4462a19387064dd2534e0cf8179">More...</a><br /></td></tr>
<tr class="separator:a2a26a4462a19387064dd2534e0cf8179 inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a3d94836fcc712c6788d3e4a31234e inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#ac8a3d94836fcc712c6788d3e4a31234e">toPrettyString</a> (size_t level=0) const</td></tr>
<tr class="separator:ac8a3d94836fcc712c6788d3e4a31234e inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639b19e7d10bb96baa7e0375687c73c6 inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a639b19e7d10bb96baa7e0375687c73c6">decreaseAppliedBlockCount</a> (size_t erasedBlocks)</td></tr>
<tr class="separator:a639b19e7d10bb96baa7e0375687c73c6 inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5452e3aafe2b892bb12cf21705a1695 inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#ae5452e3aafe2b892bb12cf21705a1695">increaseAppliedBlockCount</a> (size_t appliedBlocks)</td></tr>
<tr class="separator:ae5452e3aafe2b892bb12cf21705a1695 inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8da57b5a472a19499f808a0968f25a inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#afe8da57b5a472a19499f808a0968f25a">decreaseAppliedBlockCount</a> (size_t)</td></tr>
<tr class="separator:afe8da57b5a472a19499f808a0968f25a inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab15f5804337b0e92d5bbbe765556af17 inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#ab15f5804337b0e92d5bbbe765556af17">increaseAppliedBlockCount</a> (size_t)</td></tr>
<tr class="separator:ab15f5804337b0e92d5bbbe765556af17 inherit pro_methods_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af3d489ecf6bf8eb15ab0ce4805403927"><td class="memItemLeft" align="right" valign="top">const ChainParams *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BlockTree.html#af3d489ecf6bf8eb15ab0ce4805403927">param_</a> = nullptr</td></tr>
<tr class="separator:af3d489ecf6bf8eb15ab0ce4805403927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_structaltintegration_1_1BaseBlockTree"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_structaltintegration_1_1BaseBlockTree')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="structaltintegration_1_1BaseBlockTree.html">altintegration::BaseBlockTree&lt; Block &gt;</a></td></tr>
<tr class="memitem:a901c1f0b3e9a7532b03fd9eef685f901 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a901c1f0b3e9a7532b03fd9eef685f901">isLoadingBlocks_</a> = false</td></tr>
<tr class="memdesc:a901c1f0b3e9a7532b03fd9eef685f901 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">if true, we're in "loading blocks" state  <a href="structaltintegration_1_1BaseBlockTree.html#a901c1f0b3e9a7532b03fd9eef685f901">More...</a><br /></td></tr>
<tr class="separator:a901c1f0b3e9a7532b03fd9eef685f901 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6e8a17801c54de0761f794dc6408f9 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#acf6e8a17801c54de0761f794dc6408f9">isLoaded_</a> = false</td></tr>
<tr class="memdesc:acf6e8a17801c54de0761f794dc6408f9 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">if true, we can no longer execute loadBlock/loadTip on this tree.  <a href="structaltintegration_1_1BaseBlockTree.html#acf6e8a17801c54de0761f794dc6408f9">More...</a><br /></td></tr>
<tr class="separator:acf6e8a17801c54de0761f794dc6408f9 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f2c656424f783f65c8d5527e115a51 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">block_index_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a93f2c656424f783f65c8d5527e115a51">blocks_</a></td></tr>
<tr class="memdesc:a93f2c656424f783f65c8d5527e115a51 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores ALL blocks, including valid and invalid  <a href="structaltintegration_1_1BaseBlockTree.html#a93f2c656424f783f65c8d5527e115a51">More...</a><br /></td></tr>
<tr class="separator:a93f2c656424f783f65c8d5527e115a51 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4226fb8644befc047f78f38d88b7f736 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a4226fb8644befc047f78f38d88b7f736">tips_</a></td></tr>
<tr class="memdesc:a4226fb8644befc047f78f38d88b7f736 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores ONLY VALID tips, including currently active tip  <a href="structaltintegration_1_1BaseBlockTree.html#a4226fb8644befc047f78f38d88b7f736">More...</a><br /></td></tr>
<tr class="separator:a4226fb8644befc047f78f38d88b7f736 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb681ace9153b3ed6258849a2e50c69 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structaltintegration_1_1Chain.html">Chain</a>&lt; <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a4bb681ace9153b3ed6258849a2e50c69">activeChain_</a></td></tr>
<tr class="memdesc:a4bb681ace9153b3ed6258849a2e50c69 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">currently applied chain  <a href="structaltintegration_1_1BaseBlockTree.html#a4bb681ace9153b3ed6258849a2e50c69">More...</a><br /></td></tr>
<tr class="separator:a4bb681ace9153b3ed6258849a2e50c69 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf4d9734048cd8bedb69d86d830f513d inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structaltintegration_1_1FinalizedPayloadsIndex.html">FinalizedPayloadsIndex</a>&lt; <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#adf4d9734048cd8bedb69d86d830f513d">finalizedPayloadsIndex_</a></td></tr>
<tr class="memdesc:adf4d9734048cd8bedb69d86d830f513d inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores mapping of payload id -&gt; its containing ALT/VBK block.  <a href="structaltintegration_1_1BaseBlockTree.html#adf4d9734048cd8bedb69d86d830f513d">More...</a><br /></td></tr>
<tr class="separator:adf4d9734048cd8bedb69d86d830f513d inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e8b3a7980e6750687a053ff9acf0084 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structaltintegration_1_1BlockReader.html">BlockReader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a4e8b3a7980e6750687a053ff9acf0084">blockProvider_</a></td></tr>
<tr class="separator:a4e8b3a7980e6750687a053ff9acf0084 inherit pro_attribs_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_structaltintegration_1_1BaseBlockTree"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_structaltintegration_1_1BaseBlockTree')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="structaltintegration_1_1BaseBlockTree.html">altintegration::BaseBlockTree&lt; Block &gt;</a></td></tr>
<tr class="memitem:a298de09c0940872bee6e7d6d743aca61 inherit pub_attribs_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">signals::Signal&lt; void(const <a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a298de09c0940872bee6e7d6d743aca61">onBlockBeforeDeallocated</a></td></tr>
<tr class="memdesc:a298de09c0940872bee6e7d6d743aca61 inherit pub_attribs_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">before we deallocate any block index we emit it to this signal  <a href="structaltintegration_1_1BaseBlockTree.html#a298de09c0940872bee6e7d6d743aca61">More...</a><br /></td></tr>
<tr class="separator:a298de09c0940872bee6e7d6d743aca61 inherit pub_attribs_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44be8e5528b971d6ba9b800875448d3e inherit pub_attribs_structaltintegration_1_1BaseBlockTree"><td class="memItemLeft" align="right" valign="top">signals::Signal&lt; on_invalidate_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltintegration_1_1BaseBlockTree.html#a44be8e5528b971d6ba9b800875448d3e">onBlockValidityChanged</a></td></tr>
<tr class="memdesc:a44be8e5528b971d6ba9b800875448d3e inherit pub_attribs_structaltintegration_1_1BaseBlockTree"><td class="mdescLeft">&#160;</td><td class="mdescRight">signals to the end user that block have been invalidated  <a href="structaltintegration_1_1BaseBlockTree.html#a44be8e5528b971d6ba9b800875448d3e">More...</a><br /></td></tr>
<tr class="separator:a44be8e5528b971d6ba9b800875448d3e inherit pub_attribs_structaltintegration_1_1BaseBlockTree"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a562bf09293e69cb1df2da7a6b43227dd" name="a562bf09293e69cb1df2da7a6b43227dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562bf09293e69cb1df2da7a6b43227dd">&#9670;&nbsp;</a></span>base</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::base =  <a class="el" href="structaltintegration_1_1BaseBlockTree.html">BaseBlockTree</a>&lt;Block&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00031">31</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>

</div>
</div>
<a id="a50d00023be34392d74d03d9ab5f67b14" name="a50d00023be34392d74d03d9ab5f67b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50d00023be34392d74d03d9ab5f67b14">&#9670;&nbsp;</a></span>block_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::block_t =  Block</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00032">32</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>

</div>
</div>
<a id="ae79b584beb16373c2f19a789425bd1db" name="ae79b584beb16373c2f19a789425bd1db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae79b584beb16373c2f19a789425bd1db">&#9670;&nbsp;</a></span>hash_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::hash_t =  typename Block::hash_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00036">36</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>

</div>
</div>
<a id="a9c2a4f734c7961a3f288f1f89b3e2076" name="a9c2a4f734c7961a3f288f1f89b3e2076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c2a4f734c7961a3f288f1f89b3e2076">&#9670;&nbsp;</a></span>height_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::height_t =  typename Block::height_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00038">38</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>

</div>
</div>
<a id="a61152955290884e219db8ee39b2ca2a8" name="a61152955290884e219db8ee39b2ca2a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61152955290884e219db8ee39b2ca2a8">&#9670;&nbsp;</a></span>index_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::index_t =  typename <a class="el" href="structaltintegration_1_1BlockIndex.html">base::index_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00034">34</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>

</div>
</div>
<a id="a765d4df2a1e98b65cc0e4137119dda7d" name="a765d4df2a1e98b65cc0e4137119dda7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765d4df2a1e98b65cc0e4137119dda7d">&#9670;&nbsp;</a></span>params_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::params_t =  ChainParams</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00033">33</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>

</div>
</div>
<a id="a862b32c3e6496c8b5d312fc6d2668709" name="a862b32c3e6496c8b5d312fc6d2668709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a862b32c3e6496c8b5d312fc6d2668709">&#9670;&nbsp;</a></span>prev_block_hash_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::prev_block_hash_t =  typename Block::prev_hash_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00037">37</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>

</div>
</div>
<a id="af4761021ddc1f8dddad0392210105b2b" name="af4761021ddc1f8dddad0392210105b2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4761021ddc1f8dddad0392210105b2b">&#9670;&nbsp;</a></span>stored_index_t</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::stored_index_t =  typename <a class="el" href="structaltintegration_1_1StoredBlockIndex.html">base::stored_index_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00035">35</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae3c77c5265d8129fe2979928d8b7789f" name="ae3c77c5265d8129fe2979928d8b7789f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3c77c5265d8129fe2979928d8b7789f">&#9670;&nbsp;</a></span>BlockTree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::BlockTree </td>
          <td>(</td>
          <td class="paramtype">const ChainParams &amp;&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structaltintegration_1_1BlockReader.html">BlockReader</a> &amp;&#160;</td>
          <td class="paramname"><em>blockProvider</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00042">42</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>      : base(blockProvider), param_(&amp;param) {}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a110c51aef126b8fec98aa6950d56ff38" name="a110c51aef126b8fec98aa6950d56ff38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a110c51aef126b8fec98aa6950d56ff38">&#9670;&nbsp;</a></span>acceptBlockHeader() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::acceptBlockHeader </td>
          <td>(</td>
          <td class="paramtype">const block_t &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00103">103</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  103</span>                                                                       {</div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">return</span> acceptBlockHeaderImpl(std::make_shared&lt;block_t&gt;(block), state, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  105</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c94d18cec972bc1a06fdcc6feafd97b" name="a7c94d18cec972bc1a06fdcc6feafd97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c94d18cec972bc1a06fdcc6feafd97b">&#9670;&nbsp;</a></span>acceptBlockHeader() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::acceptBlockHeader </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; block_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00107">107</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  108</span>                                                 {</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">return</span> acceptBlockHeaderImpl(block, state, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  110</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a000f6815f1653cd050cc71402e02e27e" name="a000f6815f1653cd050cc71402e02e27e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a000f6815f1653cd050cc71402e02e27e">&#9670;&nbsp;</a></span>acceptBlockHeaderImpl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::acceptBlockHeaderImpl </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; block_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shouldContextuallyCheck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00189">189</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  191</span>                                                           {</div>
<div class="line"><span class="lineno">  192</span>    index_t* index = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">if</span> (!validateAndAddBlock(block, state, shouldContextuallyCheck, &amp;index)) {</div>
<div class="line"><span class="lineno">  194</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  195</span>    }</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    VBK_ASSERT(index);</div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">if</span> (!shouldContextuallyCheck) {</div>
<div class="line"><span class="lineno">  199</span>      <span class="comment">// this is a bootstrap block</span></div>
<div class="line"><span class="lineno">  200</span>      index-&gt;setFlag(<a class="code hl_enumvalue" href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736aaecc63790525f2babca692e3b28783ec4">BLOCK_BOOTSTRAP</a>);</div>
<div class="line"><span class="lineno">  201</span>    }</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    base::tryAddTip(index);</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="comment">// don&#39;t defer fork resolution in the acceptBlockHeader+addPayloads flow</span></div>
<div class="line"><span class="lineno">  206</span>    <span class="comment">// until the validation hole is plugged</span></div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_function" href="structaltintegration_1_1BlockTree.html#a3b8358271f6f4f65d22408725fb21905">determineBestChain</a>(*index, state);</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  210</span>  }</div>
<div class="ttc" id="anamespacealtintegration_html_a798d9fc435a987ae04ecc3ef4f5e736aaecc63790525f2babca692e3b28783ec4"><div class="ttname"><a href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736aaecc63790525f2babca692e3b28783ec4">altintegration::BLOCK_BOOTSTRAP</a></div><div class="ttdeci">@ BLOCK_BOOTSTRAP</div><div class="ttdoc">this is a bootstrap block</div><div class="ttdef"><b>Definition:</b> <a href="block__status_8hpp_source.html#l00047">block_status.hpp:47</a></div></div>
<div class="ttc" id="astructaltintegration_1_1BlockTree_html_a3b8358271f6f4f65d22408725fb21905"><div class="ttname"><a href="structaltintegration_1_1BlockTree.html#a3b8358271f6f4f65d22408725fb21905">altintegration::BlockTree::determineBestChain</a></div><div class="ttdeci">void determineBestChain(index_t &amp;candidate, ValidationState &amp;state) override</div><div class="ttdef"><b>Definition:</b> <a href="blocktree_8hpp_source.html#l00291">blocktree.hpp:291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fec09bffa03aa888057ee94d022d112" name="a9fec09bffa03aa888057ee94d022d112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fec09bffa03aa888057ee94d022d112">&#9670;&nbsp;</a></span>bootstrap() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::bootstrap </td>
          <td>(</td>
          <td class="paramtype">height_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const block_t &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00212">212</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>                                         {</div>
<div class="line"><span class="lineno">  215</span>    bootstrap(height, std::make_shared&lt;block_t&gt;(block), state);</div>
<div class="line"><span class="lineno">  216</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa60a777a21172a293decb006f28e2316" name="aa60a777a21172a293decb006f28e2316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa60a777a21172a293decb006f28e2316">&#9670;&nbsp;</a></span>bootstrap() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::bootstrap </td>
          <td>(</td>
          <td class="paramtype">height_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; block_t &gt;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00218">218</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  220</span>                                         {</div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordtype">bool</span> ok = <a class="code hl_function" href="namespacealtintegration.html#a8f11a78c3709de515ce810b744ac05f6">checkBlock</a>(*block, state, *param_);</div>
<div class="line"><span class="lineno">  222</span>    VBK_ASSERT_MSG(ok,</div>
<div class="line"><span class="lineno">  223</span>                   <span class="stringliteral">&quot;found statelessly invalid bootstrap block in %s tree: %s&quot;</span>,</div>
<div class="line"><span class="lineno">  224</span>                   block_t::name(),</div>
<div class="line"><span class="lineno">  225</span>                   state.toString());</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>    <span class="keyword">auto</span>* index = base::insertBlockHeader(block, height);</div>
<div class="line"><span class="lineno">  228</span>    VBK_ASSERT(index != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  229</span>               <span class="stringliteral">&quot;insertBlockHeader should have never returned nullptr&quot;</span>);</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    index-&gt;setHeight(height);</div>
<div class="line"><span class="lineno">  232</span>    <a class="code hl_variable" href="structaltintegration_1_1BaseBlockTree.html#a4bb681ace9153b3ed6258849a2e50c69">base::activeChain_</a> = Chain&lt;index_t&gt;(height, index);</div>
<div class="line"><span class="lineno">  233</span>    index-&gt;setIsBootstrap(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    VBK_ASSERT(index-&gt;finalized);</div>
<div class="line"><span class="lineno">  236</span>    VBK_ASSERT(<a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#ad6875b36b78c402d46e7c7d705312359">base::isBootstrapped</a>());</div>
<div class="line"><span class="lineno">  237</span>    VBK_ASSERT(<a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#ae516864aa99c0d64b1ed301b7e261687">base::getBlockIndex</a>(index-&gt;getHash()) != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  238</span>               <span class="stringliteral">&quot;getBlockIndex must be able to find the block added by &quot;</span></div>
<div class="line"><span class="lineno">  239</span>               <span class="stringliteral">&quot;insertBlockHeader&quot;</span>);</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    base::tryAddTip(index);</div>
<div class="line"><span class="lineno">  242</span>    index-&gt;setFlag(<a class="code hl_enumvalue" href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736aa99ab5033e6949bd96e626c3e266a7ff9">BLOCK_ACTIVE</a>);</div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordtype">bool</span> success = index-&gt;raiseValidity(<a class="code hl_enumvalue" href="namespacealtintegration.html#a630b90bf15b09e62aa4a8d02d45d3634abf5135973cf643fa3a14d875a7d3a8df">BLOCK_CAN_BE_APPLIED</a>);</div>
<div class="line"><span class="lineno">  244</span>    VBK_ASSERT(success);</div>
<div class="line"><span class="lineno">  245</span>    index-&gt;setFlag(<a class="code hl_enumvalue" href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736aaecc63790525f2babca692e3b28783ec4">BLOCK_BOOTSTRAP</a>);</div>
<div class="line"><span class="lineno">  246</span>    base::appliedBlockCount = 1;</div>
<div class="line"><span class="lineno">  247</span>  }</div>
<div class="ttc" id="anamespacealtintegration_html_a630b90bf15b09e62aa4a8d02d45d3634abf5135973cf643fa3a14d875a7d3a8df"><div class="ttname"><a href="namespacealtintegration.html#a630b90bf15b09e62aa4a8d02d45d3634abf5135973cf643fa3a14d875a7d3a8df">altintegration::BLOCK_CAN_BE_APPLIED</a></div><div class="ttdeci">@ BLOCK_CAN_BE_APPLIED</div><div class="ttdoc">the chain with the block at its tip is fully valid, so if we do SetState on this block,...</div><div class="ttdef"><b>Definition:</b> <a href="block__status_8hpp_source.html#l00030">block_status.hpp:30</a></div></div>
<div class="ttc" id="anamespacealtintegration_html_a798d9fc435a987ae04ecc3ef4f5e736aa99ab5033e6949bd96e626c3e266a7ff9"><div class="ttname"><a href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736aa99ab5033e6949bd96e626c3e266a7ff9">altintegration::BLOCK_ACTIVE</a></div><div class="ttdeci">@ BLOCK_ACTIVE</div><div class="ttdoc">the block is currently applied via SetState.</div><div class="ttdef"><b>Definition:</b> <a href="block__status_8hpp_source.html#l00061">block_status.hpp:61</a></div></div>
<div class="ttc" id="anamespacealtintegration_html_a8f11a78c3709de515ce810b744ac05f6"><div class="ttname"><a href="namespacealtintegration.html#a8f11a78c3709de515ce810b744ac05f6">altintegration::checkBlock</a></div><div class="ttdeci">bool checkBlock(const BtcBlock &amp;block, ValidationState &amp;state, const BtcChainParams &amp;params)</div><div class="ttdoc">Stateless validation for a single block.</div></div>
<div class="ttc" id="astructaltintegration_1_1BaseBlockTree_html_a4bb681ace9153b3ed6258849a2e50c69"><div class="ttname"><a href="structaltintegration_1_1BaseBlockTree.html#a4bb681ace9153b3ed6258849a2e50c69">altintegration::BaseBlockTree::activeChain_</a></div><div class="ttdeci">Chain&lt; index_t &gt; activeChain_</div><div class="ttdoc">currently applied chain</div><div class="ttdef"><b>Definition:</b> <a href="base__block__tree_8hpp_source.html#l01136">base_block_tree.hpp:1136</a></div></div>
<div class="ttc" id="astructaltintegration_1_1BaseBlockTree_html_ad6875b36b78c402d46e7c7d705312359"><div class="ttname"><a href="structaltintegration_1_1BaseBlockTree.html#ad6875b36b78c402d46e7c7d705312359">altintegration::BaseBlockTree::isBootstrapped</a></div><div class="ttdeci">bool isBootstrapped() const</div><div class="ttdoc">Check if the blockchain is bootstrapped.</div><div class="ttdef"><b>Definition:</b> <a href="base__block__tree_8hpp_source.html#l00398">base_block_tree.hpp:398</a></div></div>
<div class="ttc" id="astructaltintegration_1_1BaseBlockTree_html_ae516864aa99c0d64b1ed301b7e261687"><div class="ttname"><a href="structaltintegration_1_1BaseBlockTree.html#ae516864aa99c0d64b1ed301b7e261687">altintegration::BaseBlockTree::getBlockIndex</a></div><div class="ttdeci">index_t * getBlockIndex(const T &amp;hash)</div><div class="ttdoc">Get BlockIndex by block hash.</div><div class="ttdef"><b>Definition:</b> <a href="base__block__tree_8hpp_source.html#l00113">base_block_tree.hpp:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae45d4fbb61dfe826bc1592f8568e2ac6" name="ae45d4fbb61dfe826bc1592f8568e2ac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae45d4fbb61dfe826bc1592f8568e2ac6">&#9670;&nbsp;</a></span>bootstrapWithChain()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::bootstrapWithChain </td>
          <td>(</td>
          <td class="paramtype">height_t&#160;</td>
          <td class="paramname"><em>startHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; block_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>chain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function does all blockchain integrity checks, does blockchain cleanup and in general, very slow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">startHeight</td><td>start height of the chain </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chain</td><td>bootstrap chain </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00068">68</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   69</span>                                                                   {</div>
<div class="line"><span class="lineno">   70</span>    VBK_ASSERT(!<a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#ad6875b36b78c402d46e7c7d705312359">base::isBootstrapped</a>() &amp;&amp; <span class="stringliteral">&quot;already bootstrapped&quot;</span>);</div>
<div class="line"><span class="lineno">   71</span>    VBK_ASSERT(!this-&gt;<a class="code hl_variable" href="structaltintegration_1_1BaseBlockTree.html#a901c1f0b3e9a7532b03fd9eef685f901">isLoadingBlocks_</a>);</div>
<div class="line"><span class="lineno">   72</span>    VBK_ASSERT(!this-&gt;<a class="code hl_variable" href="structaltintegration_1_1BaseBlockTree.html#acf6e8a17801c54de0761f794dc6408f9">isLoaded_</a>);</div>
<div class="line"><span class="lineno">   73</span>    VBK_ASSERT_MSG(!chain.empty(), <span class="stringliteral">&quot;bootstrap chain must not be empty&quot;</span>);</div>
<div class="line"><span class="lineno">   74</span>    VBK_ASSERT_MSG(</div>
<div class="line"><span class="lineno">   75</span>        chain.size() &gt;= param_-&gt;numBlocksForBootstrap(),</div>
<div class="line"><span class="lineno">   76</span>        <span class="stringliteral">&quot;bootstrap chain is too small (%d) expected at least %d blocks&quot;</span>,</div>
<div class="line"><span class="lineno">   77</span>        chain.size(),</div>
<div class="line"><span class="lineno">   78</span>        param_-&gt;numBlocksForBootstrap());</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    ValidationState state;</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">// pick first block from the chain, bootstrap with a single block</span></div>
<div class="line"><span class="lineno">   83</span>    <span class="keyword">auto</span> genesis = chain[0];</div>
<div class="line"><span class="lineno">   84</span>    this-&gt;bootstrap(startHeight, genesis, state);</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    <span class="comment">// apply the rest of the blocks from the chain on top of our bootstrap</span></div>
<div class="line"><span class="lineno">   87</span>    <span class="comment">// block. disable difficulty checks, because we have not enough blocks in</span></div>
<div class="line"><span class="lineno">   88</span>    <span class="comment">// our store (yet) to check it correctly</span></div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1, size = chain.size(); i &lt; size; i++) {</div>
<div class="line"><span class="lineno">   90</span>      <span class="keyword">auto</span>&amp; block = chain[i];</div>
<div class="line"><span class="lineno">   91</span>      <span class="keywordtype">bool</span> ok = this-&gt;acceptBlockHeaderImpl(</div>
<div class="line"><span class="lineno">   92</span>          std::make_shared&lt;block_t&gt;(block), state, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   93</span>      VBK_ASSERT_MSG(ok,</div>
<div class="line"><span class="lineno">   94</span>                     <span class="stringliteral">&quot;found statelssly invalid bootstrap block: %d, %s&quot;</span>,</div>
<div class="line"><span class="lineno">   95</span>                     i,</div>
<div class="line"><span class="lineno">   96</span>                     state.toString());</div>
<div class="line"><span class="lineno">   97</span>      <span class="keyword">auto</span>* index = <a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#ae516864aa99c0d64b1ed301b7e261687">base::getBlockIndex</a>(block.getHash());</div>
<div class="line"><span class="lineno">   98</span>      VBK_ASSERT(index);</div>
<div class="line"><span class="lineno">   99</span>      index-&gt;setIsBootstrap(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  100</span>    }</div>
<div class="line"><span class="lineno">  101</span>  }</div>
<div class="ttc" id="astructaltintegration_1_1BaseBlockTree_html_a901c1f0b3e9a7532b03fd9eef685f901"><div class="ttname"><a href="structaltintegration_1_1BaseBlockTree.html#a901c1f0b3e9a7532b03fd9eef685f901">altintegration::BaseBlockTree::isLoadingBlocks_</a></div><div class="ttdeci">bool isLoadingBlocks_</div><div class="ttdoc">if true, we're in &quot;loading blocks&quot; state</div><div class="ttdef"><b>Definition:</b> <a href="base__block__tree_8hpp_source.html#l01128">base_block_tree.hpp:1128</a></div></div>
<div class="ttc" id="astructaltintegration_1_1BaseBlockTree_html_acf6e8a17801c54de0761f794dc6408f9"><div class="ttname"><a href="structaltintegration_1_1BaseBlockTree.html#acf6e8a17801c54de0761f794dc6408f9">altintegration::BaseBlockTree::isLoaded_</a></div><div class="ttdeci">bool isLoaded_</div><div class="ttdoc">if true, we can no longer execute loadBlock/loadTip on this tree.</div><div class="ttdef"><b>Definition:</b> <a href="base__block__tree_8hpp_source.html#l01130">base_block_tree.hpp:1130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5880122c5d7751540f76309970da07f" name="ad5880122c5d7751540f76309970da07f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5880122c5d7751540f76309970da07f">&#9670;&nbsp;</a></span>bootstrapWithGenesis()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::bootstrapWithGenesis </td>
          <td>(</td>
          <td class="paramtype">const block_t &amp;&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00050">50</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   50</span>                                                          {</div>
<div class="line"><span class="lineno">   51</span>    VBK_ASSERT(!<a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#ad6875b36b78c402d46e7c7d705312359">base::isBootstrapped</a>() &amp;&amp; <span class="stringliteral">&quot;already bootstrapped&quot;</span>);</div>
<div class="line"><span class="lineno">   52</span>    VBK_ASSERT(!this-&gt;<a class="code hl_variable" href="structaltintegration_1_1BaseBlockTree.html#acf6e8a17801c54de0761f794dc6408f9">isLoaded_</a>);</div>
<div class="line"><span class="lineno">   53</span>    VBK_ASSERT(!this-&gt;<a class="code hl_variable" href="structaltintegration_1_1BaseBlockTree.html#a901c1f0b3e9a7532b03fd9eef685f901">isLoadingBlocks_</a>);</div>
<div class="line"><span class="lineno">   54</span>    ValidationState state;</div>
<div class="line"><span class="lineno">   55</span>    this-&gt;bootstrap(0, block, state);</div>
<div class="line"><span class="lineno">   56</span>    this-&gt;<a class="code hl_variable" href="structaltintegration_1_1BaseBlockTree.html#a901c1f0b3e9a7532b03fd9eef685f901">isLoadingBlocks_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   57</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b8358271f6f4f65d22408725fb21905" name="a3b8358271f6f4f65d22408725fb21905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b8358271f6f4f65d22408725fb21905">&#9670;&nbsp;</a></span>determineBestChain()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::determineBestChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> &amp;&#160;</td>
          <td class="paramname"><em>candidate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >important to use this-&gt;setState for proper vtable resolution</p>

<p>Implements <a class="el" href="structaltintegration_1_1BaseBlockTree.html">altintegration::BaseBlockTree&lt; Block &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00291">291</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  291</span>                                                                               {</div>
<div class="line"><span class="lineno">  292</span>    <span class="keyword">auto</span> bestTip = <a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#a2ed7a414a9bc1cf7abd70af5a6e5db8a">base::getBestChain</a>().tip();</div>
<div class="line"><span class="lineno">  293</span>    VBK_ASSERT(bestTip != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;must be bootstrapped&quot;</span>);</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="keywordflow">if</span> (bestTip == &amp;candidate) {</div>
<div class="line"><span class="lineno">  296</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  297</span>    }</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <span class="comment">// do not even consider invalid candidates</span></div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">if</span> (!candidate.isValid()) {</div>
<div class="line"><span class="lineno">  301</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  302</span>    }</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">if</span> (bestTip-&gt;chainWork &lt; candidate.chainWork) {</div>
<div class="line"><span class="lineno">  306</span>      this-&gt;setState(candidate, state);</div>
<div class="line"><span class="lineno">  307</span>    }</div>
<div class="line"><span class="lineno">  308</span>  }</div>
<div class="ttc" id="astructaltintegration_1_1BaseBlockTree_html_a2ed7a414a9bc1cf7abd70af5a6e5db8a"><div class="ttname"><a href="structaltintegration_1_1BaseBlockTree.html#a2ed7a414a9bc1cf7abd70af5a6e5db8a">altintegration::BaseBlockTree::getBestChain</a></div><div class="ttdeci">const Chain&lt; index_t &gt; &amp; getBestChain() const</div><div class="ttdoc">Getter for currently Active Chain.</div><div class="ttdef"><b>Definition:</b> <a href="base__block__tree_8hpp_source.html#l00094">base_block_tree.hpp:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a79b543d038fd389301419d00ae032d2d" name="a79b543d038fd389301419d00ae032d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79b543d038fd389301419d00ae032d2d">&#9670;&nbsp;</a></span>finalizeBlocks()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::finalizeBlocks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00180">180</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  180</span>                        {</div>
<div class="line"><span class="lineno">  181</span>    VBK_ASSERT(!this-&gt;<a class="code hl_variable" href="structaltintegration_1_1BaseBlockTree.html#a901c1f0b3e9a7532b03fd9eef685f901">isLoadingBlocks_</a>);</div>
<div class="line"><span class="lineno">  182</span>    base::finalizeBlocks(this-&gt;getParams().getMaxReorgBlocks(),</div>
<div class="line"><span class="lineno">  183</span>                         this-&gt;getParams().preserveBlocksBehindFinal());</div>
<div class="line"><span class="lineno">  184</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afb6ae17418e40a11c548e5922683d4c4" name="afb6ae17418e40a11c548e5922683d4c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb6ae17418e40a11c548e5922683d4c4">&#9670;&nbsp;</a></span>getParams()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ChainParams &amp; <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::getParams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00045">45</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span>{ <span class="keywordflow">return</span> *param_; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae60dda418fe822190cbd54741a3c10f7" name="ae60dda418fe822190cbd54741a3c10f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae60dda418fe822190cbd54741a3c10f7">&#9670;&nbsp;</a></span>isBlockOld() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::isBlockOld </td>
          <td>(</td>
          <td class="paramtype">const hash_t &amp;&#160;</td>
          <td class="paramname"><em>hash</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00170">170</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  170</span>                                            {</div>
<div class="line"><span class="lineno">  171</span>    <span class="keyword">auto</span>* index = <a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#ae516864aa99c0d64b1ed301b7e261687">base::getBlockIndex</a>(hash);</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">if</span> (index == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  173</span>      <span class="comment">// block is unknown, so not &quot;old&quot;</span></div>
<div class="line"><span class="lineno">  174</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  175</span>    }</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="structaltintegration_1_1BlockTree.html#ae7de7a66d6867ddbf077f1c20d16d8fc">isBlockOld</a>(index-&gt;getHeight());</div>
<div class="line"><span class="lineno">  178</span>  }</div>
<div class="ttc" id="astructaltintegration_1_1BlockTree_html_ae7de7a66d6867ddbf077f1c20d16d8fc"><div class="ttname"><a href="structaltintegration_1_1BlockTree.html#ae7de7a66d6867ddbf077f1c20d16d8fc">altintegration::BlockTree::isBlockOld</a></div><div class="ttdeci">bool isBlockOld(height_t height) const</div><div class="ttdoc">block is considered old if it is behind current tip further than 'old blocks window' blocks</div><div class="ttdef"><b>Definition:</b> <a href="blocktree_8hpp_source.html#l00162">blocktree.hpp:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7de7a66d6867ddbf077f1c20d16d8fc" name="ae7de7a66d6867ddbf077f1c20d16d8fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7de7a66d6867ddbf077f1c20d16d8fc">&#9670;&nbsp;</a></span>isBlockOld() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::isBlockOld </td>
          <td>(</td>
          <td class="paramtype">height_t&#160;</td>
          <td class="paramname"><em>height</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00162">162</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  162</span>                                         {</div>
<div class="line"><span class="lineno">  163</span>    <span class="keyword">auto</span>* tip = <a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#a2ed7a414a9bc1cf7abd70af5a6e5db8a">base::getBestChain</a>().tip();</div>
<div class="line"><span class="lineno">  164</span>    VBK_ASSERT(tip);</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">return</span> tip-&gt;getHeight() - height &gt; getParams().getOldBlocksWindow();</div>
<div class="line"><span class="lineno">  167</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a24779f15d0d6b38e5d99d68e351bcbad" name="a24779f15d0d6b38e5d99d68e351bcbad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24779f15d0d6b38e5d99d68e351bcbad">&#9670;&nbsp;</a></span>loadBlockForward()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::loadBlockForward </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structaltintegration_1_1StoredBlockIndex.html">stored_index_t</a> &amp;&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section invariant"><dt>Invariant</dt><dd>NOT atomic. </dd></dl>

<p>Reimplemented from <a class="el" href="structaltintegration_1_1BaseBlockTree.html#a48c1ac8d9b8139e000c439898b2c587e">altintegration::BaseBlockTree&lt; Block &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00123">123</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  124</span>                                                         {</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacealtintegration.html#a8f11a78c3709de515ce810b744ac05f6">checkBlock</a>(*index.header, state, *param_)) {</div>
<div class="line"><span class="lineno">  126</span>      <span class="keywordflow">return</span> state.Invalid(<span class="stringliteral">&quot;bad-header&quot;</span>);</div>
<div class="line"><span class="lineno">  127</span>    }</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <span class="keyword">const</span> <span class="keyword">auto</span> hash = index.header-&gt;getHash();</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#a48c1ac8d9b8139e000c439898b2c587e">base::loadBlockForward</a>(index, state)) {</div>
<div class="line"><span class="lineno">  131</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  132</span>    }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    <span class="keyword">auto</span>* current = <a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#ae516864aa99c0d64b1ed301b7e261687">base::getBlockIndex</a>(hash);</div>
<div class="line"><span class="lineno">  135</span>    VBK_ASSERT(current);</div>
<div class="line"><span class="lineno">  136</span>    VBK_ASSERT(!this-&gt;<a class="code hl_variable" href="structaltintegration_1_1BaseBlockTree.html#acf6e8a17801c54de0761f794dc6408f9">isLoaded_</a>);</div>
<div class="line"><span class="lineno">  137</span>    VBK_ASSERT(this-&gt;<a class="code hl_variable" href="structaltintegration_1_1BaseBlockTree.html#a901c1f0b3e9a7532b03fd9eef685f901">isLoadingBlocks_</a>);</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    <span class="comment">// we only check blocks contextually if they are not bootstrap blocks, and</span></div>
<div class="line"><span class="lineno">  140</span>    <span class="comment">// previous block exists</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">if</span> (!current-&gt;isRoot() &amp;&amp; !current-&gt;hasFlags(<a class="code hl_enumvalue" href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736aaecc63790525f2babca692e3b28783ec4">BLOCK_BOOTSTRAP</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  142</span>        !contextuallyCheckBlock(</div>
<div class="line"><span class="lineno">  143</span>            *current-&gt;pprev, current-&gt;getHeader(), state, *param_)) {</div>
<div class="line"><span class="lineno">  144</span>      <span class="keywordflow">return</span> state.Invalid(<span class="stringliteral">&quot;bad-block-contextually&quot;</span>);</div>
<div class="line"><span class="lineno">  145</span>    }</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    <span class="comment">// recover chainwork</span></div>
<div class="line"><span class="lineno">  148</span>    current-&gt;chainWork = getBlockProof(current-&gt;getHeader());</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> (!current-&gt;isRoot()) {</div>
<div class="line"><span class="lineno">  150</span>      current-&gt;chainWork += current-&gt;pprev-&gt;chainWork;</div>
<div class="line"><span class="lineno">  151</span>    }</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <span class="comment">// clear blockOfProofEndorsements inmem field</span></div>
<div class="line"><span class="lineno">  154</span>    current-&gt;clearBlockOfProofEndorsement();</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    current-&gt;raiseValidity(<a class="code hl_enumvalue" href="namespacealtintegration.html#a630b90bf15b09e62aa4a8d02d45d3634a4a6b4cd95c6bd377c33293cf30fda8a1">BLOCK_VALID_TREE</a>);</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  158</span>  }</div>
<div class="ttc" id="anamespacealtintegration_html_a630b90bf15b09e62aa4a8d02d45d3634a4a6b4cd95c6bd377c33293cf30fda8a1"><div class="ttname"><a href="namespacealtintegration.html#a630b90bf15b09e62aa4a8d02d45d3634a4a6b4cd95c6bd377c33293cf30fda8a1">altintegration::BLOCK_VALID_TREE</a></div><div class="ttdeci">@ BLOCK_VALID_TREE</div><div class="ttdoc">acceptBlockHeader succeded.</div><div class="ttdef"><b>Definition:</b> <a href="block__status_8hpp_source.html#l00017">block_status.hpp:17</a></div></div>
<div class="ttc" id="astructaltintegration_1_1BaseBlockTree_html_a48c1ac8d9b8139e000c439898b2c587e"><div class="ttname"><a href="structaltintegration_1_1BaseBlockTree.html#a48c1ac8d9b8139e000c439898b2c587e">altintegration::BaseBlockTree::loadBlockForward</a></div><div class="ttdeci">virtual bool loadBlockForward(const stored_index_t &amp;index, ValidationState &amp;state)</div><div class="ttdoc">Efficiently connects BlockIndex to this tree as a leaf, when it is loaded from disk.</div><div class="ttdef"><b>Definition:</b> <a href="base__block__tree_8hpp_source.html#l00188">base_block_tree.hpp:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6327433a1fe0669c295711fd1d9b3cb" name="aa6327433a1fe0669c295711fd1d9b3cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6327433a1fe0669c295711fd1d9b3cb">&#9670;&nbsp;</a></span>onBlockInserted()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::onBlockInserted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> *&#160;</td>
          <td class="paramname"><em>newIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">final</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="structaltintegration_1_1BaseBlockTree.html">altintegration::BaseBlockTree&lt; Block &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00311">311</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  311</span>                                                {</div>
<div class="line"><span class="lineno">  312</span>    newIndex-&gt;chainWork = getBlockProof(newIndex-&gt;getHeader());</div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">if</span> (!newIndex-&gt;isRoot()) {</div>
<div class="line"><span class="lineno">  314</span>      newIndex-&gt;chainWork += newIndex-&gt;pprev-&gt;chainWork;</div>
<div class="line"><span class="lineno">  315</span>    }</div>
<div class="line"><span class="lineno">  316</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="abb46e4499aa53ccde9f870f160c6ee91" name="abb46e4499aa53ccde9f870f160c6ee91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb46e4499aa53ccde9f870f160c6ee91">&#9670;&nbsp;</a></span>toPrettyString()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::toPrettyString </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>level</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00112">112</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>                                                   {</div>
<div class="line"><span class="lineno">  113</span>    std::string pad(level, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> format(<span class="stringliteral">&quot;{}{}BlockTree{{blocks={}\n{}\n{}}}&quot;</span>,</div>
<div class="line"><span class="lineno">  115</span>                  pad,</div>
<div class="line"><span class="lineno">  116</span>                  Block::name(),</div>
<div class="line"><span class="lineno">  117</span>                  base::getBlocks().size(),</div>
<div class="line"><span class="lineno">  118</span>                  base::toPrettyString(level + 2),</div>
<div class="line"><span class="lineno">  119</span>                  pad);</div>
<div class="line"><span class="lineno">  120</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aae7d32d0860c91dd9ec31ec11632ca17" name="aae7d32d0860c91dd9ec31ec11632ca17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae7d32d0860c91dd9ec31ec11632ca17">&#9670;&nbsp;</a></span>validateAndAddBlock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::validateAndAddBlock </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; block_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classaltintegration_1_1ValidationState.html">ValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shouldContextuallyCheck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structaltintegration_1_1BlockIndex.html">index_t</a> **&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00249">249</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  252</span>                                          {</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespacealtintegration.html#a8f11a78c3709de515ce810b744ac05f6">checkBlock</a>(*block, state, *param_)) {</div>
<div class="line"><span class="lineno">  254</span>      <span class="keywordflow">return</span> state.Invalid(block_t::name() + <span class="stringliteral">&quot;-check-block&quot;</span>);</div>
<div class="line"><span class="lineno">  255</span>    }</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">// we must know previous block</span></div>
<div class="line"><span class="lineno">  258</span>    <span class="keyword">auto</span>* prev = <a class="code hl_function" href="structaltintegration_1_1BaseBlockTree.html#ae516864aa99c0d64b1ed301b7e261687">base::getBlockIndex</a>(block-&gt;getPreviousBlock());</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">if</span> (prev == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  260</span>      <span class="keywordflow">return</span> state.Invalid(</div>
<div class="line"><span class="lineno">  261</span>          block_t::name() + <span class="stringliteral">&quot;-bad-prev-block&quot;</span>,</div>
<div class="line"><span class="lineno">  262</span>          <span class="stringliteral">&quot;can not find previous block: &quot;</span> + <a class="code hl_function" href="namespacealtintegration.html#a8b332a0d662f714a005e16089931237f">HexStr</a>(block-&gt;getPreviousBlock()));</div>
<div class="line"><span class="lineno">  263</span>    }</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordflow">if</span> (shouldContextuallyCheck &amp;&amp;</div>
<div class="line"><span class="lineno">  266</span>        !contextuallyCheckBlock(*prev, *block, state, *param_)) {</div>
<div class="line"><span class="lineno">  267</span>      <span class="keywordflow">return</span> state.Invalid(block_t::name() + <span class="stringliteral">&quot;-contextually-check-block&quot;</span>);</div>
<div class="line"><span class="lineno">  268</span>    }</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    <span class="keyword">auto</span> index = base::insertBlockHeader(block);</div>
<div class="line"><span class="lineno">  271</span>    VBK_ASSERT(index != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  272</span>               <span class="stringliteral">&quot;insertBlockHeader should have never returned nullptr&quot;</span>);</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">if</span> (ret) {</div>
<div class="line"><span class="lineno">  275</span>      *ret = index;</div>
<div class="line"><span class="lineno">  276</span>    }</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    index-&gt;raiseValidity(<a class="code hl_enumvalue" href="namespacealtintegration.html#a630b90bf15b09e62aa4a8d02d45d3634a7f0d0fe2352a96058a62330d29df6d37">BLOCK_CONNECTED</a>);</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>    <span class="comment">// if prev block is invalid, mark this block as invalid</span></div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordflow">if</span> (!prev-&gt;isValid()) {</div>
<div class="line"><span class="lineno">  282</span>      index-&gt;setFlag(<a class="code hl_enumvalue" href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736aa5cb9d4324c455d44fedc98d9916cdd47">BLOCK_FAILED_CHILD</a>);</div>
<div class="line"><span class="lineno">  283</span>      <span class="keywordflow">return</span> state.Invalid(</div>
<div class="line"><span class="lineno">  284</span>          block_t::name() + <span class="stringliteral">&quot;-bad-chain&quot;</span>,</div>
<div class="line"><span class="lineno">  285</span>          format(<span class="stringliteral">&quot;Previous block is invalid={}&quot;</span>, prev-&gt;toPrettyString()));</div>
<div class="line"><span class="lineno">  286</span>    }</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  289</span>  }</div>
<div class="ttc" id="anamespacealtintegration_html_a630b90bf15b09e62aa4a8d02d45d3634a7f0d0fe2352a96058a62330d29df6d37"><div class="ttname"><a href="namespacealtintegration.html#a630b90bf15b09e62aa4a8d02d45d3634a7f0d0fe2352a96058a62330d29df6d37">altintegration::BLOCK_CONNECTED</a></div><div class="ttdeci">@ BLOCK_CONNECTED</div><div class="ttdoc">the block is connected via connectBlock, which means that this block and all its ancestors are at lea...</div><div class="ttdef"><b>Definition:</b> <a href="block__status_8hpp_source.html#l00021">block_status.hpp:21</a></div></div>
<div class="ttc" id="anamespacealtintegration_html_a798d9fc435a987ae04ecc3ef4f5e736aa5cb9d4324c455d44fedc98d9916cdd47"><div class="ttname"><a href="namespacealtintegration.html#a798d9fc435a987ae04ecc3ef4f5e736aa5cb9d4324c455d44fedc98d9916cdd47">altintegration::BLOCK_FAILED_CHILD</a></div><div class="ttdeci">@ BLOCK_FAILED_CHILD</div><div class="ttdoc">block is state{lessly,fully} valid and the altchain did not report it as invalid, but some of the anc...</div><div class="ttdef"><b>Definition:</b> <a href="block__status_8hpp_source.html#l00054">block_status.hpp:54</a></div></div>
<div class="ttc" id="anamespacealtintegration_html_a8b332a0d662f714a005e16089931237f"><div class="ttname"><a href="namespacealtintegration.html#a8b332a0d662f714a005e16089931237f">altintegration::HexStr</a></div><div class="ttdeci">std::string HexStr(const T itbegin, const T itend)</div><div class="ttdoc">Convert bytes to hex.</div><div class="ttdef"><b>Definition:</b> <a href="strutil_8hpp_source.html#l00033">strutil.hpp:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af3d489ecf6bf8eb15ab0ce4805403927" name="af3d489ecf6bf8eb15ab0ce4805403927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3d489ecf6bf8eb15ab0ce4805403927">&#9670;&nbsp;</a></span>param_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Block , typename ChainParams &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ChainParams* <a class="el" href="structaltintegration_1_1BlockTree.html">altintegration::BlockTree</a>&lt; Block, ChainParams &gt;::param_ = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="blocktree_8hpp_source.html#l00187">187</a> of file <a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/veriblock/pop/blockchain/<a class="el" href="blocktree_8hpp_source.html">blocktree.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<script>
    $(document).ready(function(){
        $('.line').each(function(){
            var t = $(this).html()
            if(t.startsWith("+")) {
                $(this).addClass('diff-plus')
                $(this).html(t.slice(1))
                $(this).prepend(
                    $('<div>+</div>')
                        .addClass('noselect')
                        .addClass('sign')
                )
            } else if (t.startsWith("-")) {
                $(this).addClass('diff-minus')
                $(this).html(t.slice(1))
                $(this).prepend(
                    $('<div>-</div>')
                        .addClass('noselect')
                        .addClass('sign')
                )
            }
        })
    });
</script>
